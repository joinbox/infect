{"version":3,"sources":["js/angular/infekt/legal-notice.es2015.js"],"names":["LegalNoticeController","hidden","data","localStorage","getItem","parsedData","JSON","parse","expires","Date","getTime","value","err","setDate","getDate","setItem","stringify","toString","angular","module","component","template","controller"],"mappings":";;;;;;AAAA,CAAC,YAAM;;AAEN;;AAEA;;AAGA;;;;;AAPM,KAWAA,qBAXA;AAaL,mCAAc;AAAA;;AAEb,QAAKC,MAAL,GAAc,IAAd;;AAEA;AACA,OAAIA,SAAS,KAAb;AACA,OAAI;AACH,QAAMC,OAAOC,aAAaC,OAAb,CAAqB,iBAArB,CAAb;AACA,QAAIF,IAAJ,EAAU;AACT,SAAMG,aAAaC,KAAKC,KAAL,CAAWL,IAAX,CAAnB;AACA,SAAIG,WAAWG,OAAX,IAAsB,IAAIC,IAAJ,CAASJ,WAAWG,OAApB,EAA6BE,OAA7B,KAAyC,IAAID,IAAJ,GAAWC,OAAX,EAAnE,EAAyF;AACxFT,eAASI,WAAWM,KAApB;AACA;AACD;AACD,IARD,CASA,OAAMC,GAAN,EAAW,CAAE;;AAEb,QAAKX,MAAL,GAAcA,MAAd;AAEA;;AAGD;;;;;AAnCK;AAAA;AAAA,0BAsCE;;AAEN,QAAI;AACH;AACA,SAAMO,UAAU,IAAIC,IAAJ,EAAhB;AACAD,aAAQK,OAAR,CAAgBL,QAAQM,OAAR,KAAoB,EAApC;AACAX,kBAAaY,OAAb,CAAqB,iBAArB,EAAwCT,KAAKU,SAAL,CAAe;AACtDR,eAAYA,QAAQS,QAAR,EAD0C;AAEpDN,aAAU;AAF0C,MAAf,CAAxC;AAIA,KARD,CASA,OAAMC,GAAN,EAAW,CAAE;;AAEb,SAAKX,MAAL,GAAc,IAAd;AAEA;AArDI;;AAAA;AAAA;;AA0DNiB,SACCC,MADD,CACQ,QADR,EAECC,SAFD,CAEW,aAFX,EAE0B;AACzBC,+jBADyB;AAMvBC,cAActB;AANS,EAF1B;AAWA,CArED","file":"legal-notice.es2015.js","sourcesContent":["(() => {\n\n\t'use strict';\n\n\t/* global angular, localStorage */\n\n\n\t/**\n\t* Red legal notice just below the log. Adds hide functionality which hides the notice for 60 days after the\n\t* hide button is clicked.\n\t*/\n\tclass LegalNoticeController {\n\n\t\tconstructor() {\n\n\t\t\tthis.hidden = true;\n\n\t\t\t// Check local storage\n\t\t\tlet hidden = false;\n\t\t\ttry {\n\t\t\t\tconst data = localStorage.getItem('hideLegalNotice');\n\t\t\t\tif (data) {\n\t\t\t\t\tconst parsedData = JSON.parse(data);\n\t\t\t\t\tif (parsedData.expires && new Date(parsedData.expires).getTime() > new Date().getTime()) {\n\t\t\t\t\t\thidden = parsedData.value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch(err) {}\n\n\t\t\tthis.hidden = hidden;\n\n\t\t}\n\n\n\t\t/**\n\t\t* Hide click handler. Store status in localStorage for 60d.\n\t\t*/\n\t\thide() {\n\t\t\t\n\t\t\ttry {\n\t\t\t\t// Expires in 60d\n\t\t\t\tconst expires = new Date();\n\t\t\t\texpires.setDate(expires.getDate() + 60);\n\t\t\t\tlocalStorage.setItem('hideLegalNotice', JSON.stringify({\n\t\t\t\t\texpires\t\t\t: expires.toString()\n\t\t\t\t\t, value\t\t\t: true\n\t\t\t\t}));\n\t\t\t}\n\t\t\tcatch(err) {}\n\n\t\t\tthis.hidden = true;\n\n\t\t}\n\n\n\t}\n\n\tangular\n\t.module('infekt')\n\t.component('legalNotice', {\n\t\ttemplate\t\t\t: `<div class=\"informationBox\" ng-hide=\"$ctrl.hidden\">\n\t\t\t\t\t\t\t\t\t<p><b>Infect ist ein Produkt in sehr frühem Entwicklungsstadium.</b> Diese Seite dient lediglich zur Demonstration. Weder die Applikation noch die darin verwendeten Daten dürfen derzeit zur Behandlung von Patienten verwendet werden, für beide wird keinerlei Gewähr übernommen.</p>\n\t\t\t\t\t\t\t\t\t<button class=\"about-overlay-button\">Mehr zu INFECT (in Englisch)</button>\n\t\t\t\t\t\t\t\t\t<button class=\"\" ng-click=\"$ctrl.hide()\">&times;</button>\n\t\t\t\t\t\t\t\t</div>`\n\t\t, controller\t\t: LegalNoticeController\n\t});\n\n})();\n\n"]}
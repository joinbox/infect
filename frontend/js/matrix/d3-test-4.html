<script src="//d3js.org/d3.v4.min.js"></script>

<style>
table, td {
  border: 1px solid #aaa;
  padding: 5px;
  border-collapse: collapse;
}
</style>

<script>
function render(data){
  var tbody = d3.select("body");

  var row = tbody.selectAll("div").data(data);
  var rowenter = row.enter().append("div");

  var cell = row.merge(rowenter)
    .selectAll("span").data(function(d){ return d;});

cell.enter()
.call((el) => console.log('enter', el.size()))
.append("span").text(function(d){ return d; });

cell
.call((el) => console.log('update', el.size()))
.text((d) => d);

}

render([["1-a", "1-b"], ["2-a", "2-b"]]);

setTimeout(function(){
  render([["1-x", "1-b", "1-c"], ["2-a", "2-b", "2-c"], ["3-a", "3-b", "3-c"]]);
}, 2000);



</script>
<!DOCTYPE html>
<!--[if lt IE 7]>      <html ng-app="infekt" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html ng-app="infekt" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html ng-app="infekt" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html ng-app="infekt" class="no-js" lang="de-ch"> <!--<![endif]-->
    <head>
        <meta charset="utf-8" />
        <title>Infect</title>
        <meta name="description" content="" />
        <meta name="viewport" content="width=device-width" />

        <link rel="stylesheet" href="styles/css/styles.css" />



		<!-- Vendor -->
		<script src="js/bower_components/d3/d3.js"></script>
		<script src="js/bower_components/zepto/zepto.js"></script>
		<script src="js/bower_components/angular/angular.js"></script>
		<script src="js/bower_components/fxstr-angular-typeahead/fxstr-angular-typeahead/typeaheadDirective.js"></script>
		<script src="js/bower_components/angular-translate/angular-translate.js"></script>

		<script src="js/plugins.js"></script>
		<script src="js/matrix/resistency-matrix.js"></script>



		<!-- Infect Angular Module -->
		<!-- Base -->
		<script src="js/angular/infekt/app.js"></script>

		<!-- Factories -->
		<script src="js/angular/infekt/translationFactory.js"></script>
		<script src="js/angular/infekt/antibioticsFactory.js"></script>
		<script src="js/angular/infekt/bacteriaFactory.js"></script>
		<script src="js/angular/infekt/searchTableFactory.js"></script>
		<script src="js/angular/infekt/resistanceFactory.js"></script>
		<script src="js/angular/infekt/filterFactory.js"></script>

		<!-- Controllers -->
		<script src="js/angular/infekt/infektController.js"></script>

		<!-- Directives -->
		<!--<script src="js/angular/infekt/resistanceMatrixDirective.js"></script>-->
		<script src="js/angular/infekt/resistanceMatrixComponent.js"></script>

		<!-- Filters -->
		<script src="js/angular/infekt/joinFilter.js"></script>



		<!-- View stuff -->
		<script src="js/main.js"></script>

		<style>
			svg	{
				height: 100%;
				width: 70%;
			}
			resistance-matrix {
				display: block;
			}
		</style>

    </head>

    <body data-ng-controller="InfektController">


        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->
        
	<header class="animated">

		<div class="wrapper">

			<div id="logo" class="animated">
				<img src="img/logo.png" alt="Infect Logo" id="logo-img" />
				<h1 class="animated">Infect</h1>
			</div>
			
			<div id="filter-wrapper">
			
				<div id="filter">
				
					<div class="wrapper">

						<label>Filter</label>
						
						<div id="filter-suggestion-input">
						
							<div id="filter-input-wrapper" class="styled-input">
								<input type="search" ng-model="searchFieldValue" class="typeaheadDirective" typeahead-empty-data-source="getDefaultResults" typeahead-data-source="getAllSearchTerms()" typeahead-max-results="9" typeahead-search-term-function="returnSearchTerm" typeahead-select-handler="selectHandlerCallback" typeahead-template-url="templates/infektResultListTemplate.html" typeahead-insert-after="#filter-input-wrapper"></input>
							</div>

						</div>
					
					</div>
					
				</div>

				<div id="active-filter">

					<ul class="active-filter-list flat-list">
	
						<li ng-repeat="type in ['bacterium','antibiotic','diagnosis']" data-ng-if="getFilterCount(type)">
							<label class="animated">{{ type |Â translate }}</label>

							<ul class="active-filter-item-list flat-list animated">

								<!-- Filter (per property of bacterium) -->
								<li ng-repeat="filter in getFilters(type)" class="filter-list-item">
									<div class="filter-item-category">{{filter[ 0 ].humanName}}</div>
									<!-- SubFilter (per filter of certain property) -->
									<span ng-repeat="subFilter in filter">
										{{subFilter.humanValue}} <button class="removeFilterButton" ng-click="removeFilter(subFilter)">&times;</button> <span ng-if="!$last">oder</span>
									</span>
								</li>
								
							</ul>
						</li>

					</ul>
				
				</div>
				
			</div>
		
		</div>

	</header>


	<section id="content">

		<section id="matrix">

			<resistance-matrix resistances="resistances" bacteria="bacteria" antibiotics="antibiotics"></resistance-matrix>

		</section>

	</section>


    </body>
</html>